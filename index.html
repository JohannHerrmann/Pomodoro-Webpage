<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pomodoro Naturklang Timer ‚Äì Pro</title>
  <meta name="description" content="Produktiv arbeiten mit dem Pomodoro-Prinzip: 25 Minuten Fokus, 5 Minuten Pause.">
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <div class="wrap">
    <header>
      <h1 id="title">Pomodoro Fokus Timer</h1>
      <div style="display:flex;gap:10px;align-items:center">
        <div class="label" id="labelLanguage">Sprache</div>
        <select id="lang" class="ctl">
          <option value="de" selected>Deutsch</option>
          <option value="en">English</option>
        </select>
        <div class="label" id="labelTheme">Theme</div>
        <select id="theme" class="ctl">
          <option value="dark" selected>Dunkel</option>
          <option value="light">Hell</option>
        </select>
      </div>
    </header>

    <div class="app">
      <!-- LEFT: TIMER -->
      <section class="card timer">
        <div class="phaseTitle" id="phaseTitle">Konzentrationsphase</div>

        <div class="ringBox">
          <div class="ring">
            <svg viewBox="0 0 100 100" aria-hidden="true">
              <defs>
                <linearGradient id="ringGrad" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="var(--ring1)"/>
                  <stop offset="100%" stop-color="var(--ring2)"/>
                </linearGradient>
              </defs>
              <circle cx="50" cy="50" r="45" stroke="rgba(255,255,255,.09)" stroke-width="8" fill="none" />
              <circle id="ringProgress" cx="50" cy="50" r="45" stroke="url(#ringGrad)" stroke-width="8" fill="none" stroke-linecap="round" transform="rotate(-90 50 50)" stroke-dasharray="282.6" stroke-dashoffset="282.6" />
            </svg>
            <div class="inner">
              <div class="tomato" aria-hidden>üçÖ</div>
              <div class="time" id="time">25:00</div>
              <div class="centerCaption" id="centerCaption">Fokus!</div>
              <div class="small" id="cycleInfo" style="margin-top:6px">Einzelzyklus</div>
            </div>
          </div>
        </div>

        <div class="controls">
          <button id="startBtn" class="btn primary">Zyklus starten</button>
          <button id="pauseBtn" class="btn" disabled>Pausieren</button>
          <button id="resetBtn" class="btn warn" disabled>Zur√ºcksetzen</button>
        </div>
      </section>

      <!-- RIGHT: SETTINGS -->
      <aside class="card panel">
        <div class="row">
          <div class="label" id="labelSpeak">Ansagen per Sprachausgabe</div>
          <input id="speakToggle" class="switch" type="checkbox" checked>
        </div>

        <div class="row">
          <div class="label" id="labelFocusMin">Dauer Konzentrationsphase (Min)</div>
          <input id="focusMinutes" class="ctl" type="number" min="1" max="180" value="25">
        </div>
        <input id="focusRange" class="slider" type="range" min="1" max="180" value="25">

        <div class="row">
          <div class="label" id="labelBreakMin">Dauer Pausenphase (Min)</div>
          <input id="breakMinutes" class="ctl" type="number" min="1" max="60" value="5">
        </div>
        <input id="breakRange" class="slider" type="range" min="1" max="60" value="5">

        <div class="row">
          <div class="label" id="labelLongBreak">Langer Break (Min, alle 4 Zyklen)</div>
          <input id="longBreakMinutes" class="ctl" type="number" min="1" max="60" value="15">
        </div>

        <div class="row">
          <div class="label" id="labelFocusSound">Naturklang ‚Äì Konzentrationsphase</div>
          <select id="focusSound" class="ctl">
            <option value="rain">Regen</option>
            <option value="ocean">Meeresrauschen</option>
            <option value="forest">Wald / Wind</option>
            <option value="stream">Bachlauf</option>
            <option value="fire">Kaminfeuer</option>
            <option value="crickets">Grillen</option>
            <option value="brown">Brown Noise</option>
            <option value="silence">Stille</option>
          </select>
        </div>

        <div class="row">
          <div class="label" id="labelBreakSound">Klang ‚Äì Pausenphase</div>
          <select id="breakSound" class="ctl">
            <option value="ambient">Ambient Pad</option>
            <option value="chimes">Leises Glockenspiel</option>
            <option value="softbells">Weiche Bells</option>
            <option value="ocean">Meeresrauschen</option>
            <option value="silence">Stille</option>
          </select>
        </div>

        <div class="row">
          <div class="label" id="labelEndSignal">Signal am Phasenende</div>
          <select id="endSignal" class="ctl">
            <option value="none" selected>Keins</option>
            <option value="gong">Gong</option>
            <option value="bowl">Klangschale</option>
          </select>
        </div>

        <div class="row">
          <div class="label" id="labelDucking">Sanftes Aus-/Einblenden</div>
          <select id="ducking" class="ctl">
            <option value="true">Aktiv</option>
            <option value="false">Deaktiviert</option>
          </select>
        </div>

        <div class="row">
          <div class="label" id="labelCycles">Anzahl Zyklen</div>
          <input id="cyclesCount" class="ctl" type="number" min="1" max="24" value="1">
        </div>

        <div class="row">
          <div class="label" id="labelVol">Lautst√§rke (gesamt)</div>
          <input id="masterVol" class="slider" type="range" min="0" max="1" step="0.01" value="0.6">
        </div>

        <details class="dev">
          <summary id="testsSummary">Tests (schnelle √úberpr√ºfung)</summary>
          <div class="small" style="margin:6px 0 8px" id="testsHint">Setzt kurze Zeiten & startet automatisch.</div>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button id="test1" class="btn">2√ó (0.1 / 0.05 min)</button>
            <button id="test2" class="btn">3√ó (0.2 / 0.1 min)</button>
            <button id="test3" class="btn">4√ó (0.05 / 0.03, Lang 0.08)</button>
          </div>
        </details>

      </aside>
    </div>

    <!-- Dezent platzierter Beschreibungstext -->
    <aside class="info-note" aria-labelledby="infoTitle">
      <details>
        <summary id="infoTitle">Was ist das Pomodoro-Prinzip?</summary>
        <p id="pomDesc">
          Mit dem Pomodoro-Prinzip steigerst du deine Produktivit√§t in kleinen, konzentrierten
          Einheiten. Du arbeitest 25 Minuten fokussiert und machst dann 5 Minuten Pause.
          Nach vier Runden gibt‚Äôs eine l√§ngere Pause ‚Äì so bleibst du frisch und effektiv.
        </p>
      </details>
    </aside>

    <p class="footer" id="footerNote">Hinweis: Diese Seite nutzt die <em>Web Audio API</em> und die <em>Sprachausgabe</em> des Browsers. Auf Mobilger√§ten muss die Audiowiedergabe mit einem Button gestartet werden (erledigt durch ‚ÄûZyklus starten‚Äú).</p>
    <nav class="legal">
      <a href="impressum.html" id="navImprint">Impressum</a><span>¬∑</span>
      <a href="datenschutz.html" id="navPrivacy">Datenschutz</a>
    </nav>
  </div>

  <script defer src="assets/js/script.js"></script>
</body>
</html>
